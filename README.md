# Kontextè¶…çº§æç¤ºè¯

**[ğŸ‡¨ğŸ‡³ ä¸­æ–‡æ–‡æ¡£](#chinese-docs) | [ğŸ‡ºğŸ‡¸ English Docs](#english-docs)**

---

## <a id="chinese-docs"></a>ğŸ‡¨ğŸ‡³ ä¸­æ–‡æ–‡æ¡£

ğŸ† **è®©AIå›¾åƒç¼–è¾‘å˜å¾—ç®€å•å¦‚ç”»å›¾** ğŸ†

ä½ åªéœ€è¦ï¼šğŸ“ **æ¡†é€‰åŒºåŸŸ** + ğŸ—£ï¸ **è¯´å‡ºæƒ³æ³•** = âœ¨ **å®Œç¾çš„AIç¼–è¾‘æŒ‡ä»¤**

æ— éœ€å­¦ä¹ å¤æ‚çš„æç¤ºè¯æŠ€å·§ï¼Œæ— éœ€ç†è§£æ¨¡å‹å‚æ•°ï¼Œæ— éœ€è®°å¿†å‘½ä»¤æ ¼å¼ã€‚åƒä½¿ç”¨ç”»ç¬”ä¸€æ ·ç®€å•ï¼Œå´èƒ½è·å¾—ä¸“ä¸šçº§çš„AIç¼–è¾‘æ•ˆæœã€‚

## ğŸ¯ æ•ˆæœå±•ç¤º

### ğŸ¨ **å¯è§†åŒ–ç¼–è¾‘ç•Œé¢**
![Visual Editor Interface](images/visual_editor1.png)
*ç›´è§‚çš„å¯è§†åŒ–ç¼–è¾‘ç•Œé¢ - å·¦ä¾§å›¾åƒæ ‡æ³¨ï¼Œå³ä¾§AIæç¤ºè¯ç”Ÿæˆ*

### ğŸ–„ **åŸºç¡€æ¨¡æ¿ç³»ç»Ÿ**
![Basic Templates](images/basic.png)
*49ä¸ªç²¾å“æ¨¡æ¿è¦†ç›–å…¨éƒ¨ç¼–è¾‘åœºæ™¯ - å±€éƒ¨ã€å…¨å±€ã€æ–‡å­—ã€ä¸“ä¸šæ“ä½œ*

### ğŸš€ **30ç§’å³å­¦ä¼š**

ğŸ¯ **æ­¥éª¤1**ï¼šåŒå‡»èŠ‚ç‚¹ â†’ æ‰“å¼€æ™ºèƒ½ç¼–è¾‘å™¨  
ğŸ–Œï¸ **æ­¥éª¤2**ï¼šæ¡†é€‰åŒºåŸŸ â†’ ç”¨é¼ æ ‡åœ¨å›¾ä¸Šåœˆå‡ºä½ æƒ³æ”¹çš„åœ°æ–¹  
ğŸ’¬ **æ­¥éª¤3**ï¼šè¯´å‡ºæƒ³æ³• â†’ ç”¨äººè¯æè¿°ä½ çš„ç¼–è¾‘æ„å›¾  
âœ¨ **æ­¥éª¤4**ï¼šä¸€é”®ç”Ÿæˆ â†’ AIè‡ªåŠ¨åˆ›å»ºå®Œç¾æŒ‡ä»¤

ğŸ‰ **å°±è¿™ä¹ˆç®€å•ï¼ä»ç¬¬ä¸€æ¬¡ä½¿ç”¨å°±èƒ½è·å¾—ä¸“ä¸šæ•ˆæœï¼**

### ğŸ† **ä¸ºä»€ä¹ˆé€‰æ‹©Kontextè¶…çº§æç¤ºè¯ï¼Ÿ**

ğŸ˜« **ä¼ ç»Ÿæ–¹å¼çš„ç—›ç‚¹**ï¼š  
â€¢ éœ€è¦å­¦ä¹ å¤æ‚çš„æç¤ºè¯è¯­æ³•  
â€¢ ç»å¸¸é‡åˆ°â€œæƒ³å¾—åˆ°åšä¸åˆ°â€çš„æƒ…å†µ  
â€¢ éœ€è¦åå¤è°ƒè¯•å’Œå°è¯•æ‰èƒ½å¾—åˆ°æ»¡æ„ç»“æœ  
â€¢ ä¸åŒæ“ä½œéœ€è¦ä¸åŒçš„ä¸“ä¸šçŸ¥è¯†

ğŸ† **Kontextè¶…çº§æç¤ºè¯çš„ä¼˜åŠ¿**ï¼š  
âœ¨ **é›¶é—¨æ§›**ï¼šå°±åƒåœ¨æ‰‹æœºä¸Šæ ‡è®°ç…§ç‰‡ä¸€æ ·ç®€å•  
ğŸ¯ **é«˜å‡†ç¡®**ï¼šåŸºäº1000+å®˜æ–¹æŒ‡ä»¤ä¼˜åŒ–ï¼Œç²¾å‡†åŒ¹é…æ„å›¾  
ğŸ¤– **AIåŠ æŒ**ï¼šæ™ºèƒ½ç†è§£ä½ çš„æƒ³æ³•ï¼Œè‡ªåŠ¨ç”Ÿæˆä¸“ä¸šæŒ‡ä»¤  
ğŸš€ **å³æ—¶å¯ç”¨**ï¼šæ— éœ€å­¦ä¹ ï¼Œç¬¬ä¸€æ¬¡ä½¿ç”¨å°±èƒ½è·å¾—ä¸“ä¸šæ•ˆæœ

ğŸ **ç»“æœ**ï¼šä»â€œå­¦ä¹ ä¸€å¤©â€åˆ°â€œä¸Šæ‰‹ä¸€åˆ†é’Ÿâ€ï¼Œè®©ä»»ä½•äººéƒ½èƒ½è½»æ¾åˆ›ä½œä¸“ä¸šçº§AIä½œå“ï¼

### ğŸ† **ä¸ºä»€ä¹ˆæ•ˆæœè¿™ä¹ˆå¥½ï¼Ÿ**

#### ğŸ¨ **ç²¾å‡†å®šä½ç³»ç»Ÿ**
â€¢ **4ç§ç›´è§‰å·¥å…·**ï¼šçŸ©å½¢æ¡†ã€åœ†å½¢åœˆã€ç®­å¤´æŒ‡å‘ã€è‡ªç”±ç»˜åˆ¶ - åƒç”¨ç”»å›¾è½¯ä»¶ä¸€æ ·ç®€å•  
â€¢ **4ç§è‰²å½©æ ‡è®°**ï¼šçº¢ç»¿é»„è“ï¼Œå¯åŒæ—¶æ ‡è®°å¤šä¸ªåŒºåŸŸï¼Œä¸€æ¬¡æ€§å¤„ç†å¤æ‚ç¼–è¾‘  
â€¢ **å®æ—¶é¢„è§ˆ**ï¼šæ‰€è§å³æ‰€å¾—ï¼Œæ ‡è®°å“ªé‡Œå°±ç¼–è¾‘å“ªé‡Œ

#### ğŸ¤– **AIæ™ºèƒ½å¼•æ“**
â€¢ **6ç§ç¼–è¾‘ç­–ç•¥**ï¼šè‡ªåŠ¨æ£€æµ‹ã€ç©ºé—´ç²¾å‡†ã€è¯­ä¹‰å¢å¼ºã€é£æ ¼ä¸€è‡´ã€å†…å®¹æ„ŸçŸ¥ã€å¤šåŒºåŸŸåè°ƒ  
â€¢ **49ä¸ªç²¾å“æ¨¡æ¿**ï¼šæ¯ä¸ªéƒ½æ˜¯åŸºäºå®˜æ–¹æ•°æ®è®­ç»ƒçš„ç²¾å“ï¼Œä¿è¯æ•ˆæœ  
â€¢ **æ— é™å¯èƒ½**ï¼šAIåŠ æŒï¼Œä»49ä¸ªæ¨¡æ¿æ‰©å±•åˆ°æ— é™å˜ä½“ï¼Œæ»¡è¶³ä»»ä½•åˆ›æ„éœ€æ±‚  
â€¢ **å¤šè¯­è¨€æ”¯æŒ**ï¼šä¸­æ–‡ã€è‹±æ–‡è¾“å…¥éƒ½æ”¯æŒï¼Œæƒ³æ€ä¹ˆè¯´å°±æ€ä¹ˆè¯´

<<<<<<< Updated upstream
### âœ¨ æ ¸å¿ƒç‰¹æ€§

#### ğŸ¨ è§†è§‰æ ‡æ³¨ç³»ç»Ÿ
- **4ç§ç»˜åˆ¶å·¥å…·**ï¼šçŸ©å½¢ã€åœ†å½¢ã€ç®­å¤´ã€è‡ªç”±ç»˜åˆ¶å¤šè¾¹å½¢
- **å¤šè‰²å½©æ”¯æŒ**ï¼šçº¢ã€ç»¿ã€é»„ã€è“æ ‡æ³¨é¢œè‰²
- **äº¤äº’å¼ç¼–è¾‘**ï¼šç‚¹å‡»ã€æ‹–æ‹½ã€é€‰æ‹©ã€åˆ é™¤æ ‡æ³¨
- **å®æ—¶é¢„è§ˆ**ï¼šå›¾åƒä¸Šçš„å®æ—¶æ ‡æ³¨æ¸²æŸ“

#### ğŸ“ å¤šæ¨¡æ€ç»“æ„åŒ–æç¤ºè¯ç”Ÿæˆ
- **4ä¸ªæ¨¡æ¿åˆ†ç±»**ï¼šå±€éƒ¨ç¼–è¾‘ã€å…¨å±€è°ƒæ•´ã€æ–‡å­—ç¼–è¾‘ã€ä¸“ä¸šæ“ä½œ
- **49ä¸ªåŸºç¡€æ¨¡æ¿**ï¼šåŸºäº1025æ¡Flux Kontextå®˜æ–¹æŒ‡ä»¤ç²¾å¿ƒä¼˜åŒ–
- **AIæ™ºèƒ½æ‰©å±•**ï¼šé€šè¿‡Ollama/APIå¢å¼ºå™¨å¯ç”Ÿæˆæ— é™å˜ä½“
- **å¤šé€‰æç¤ºè¯**ï¼šçº¦æŸæ€§å’Œä¿®é¥°æ€§æç¤ºè¯çš„å¤é€‰æ¡†ç•Œé¢
- **æ™ºèƒ½ç»„åˆ**ï¼šè‡ªåŠ¨å°†è§†è§‰æ ‡æ³¨è½¬æ¢ä¸ºå¤šæ¨¡æ€AIå¯ç†è§£çš„ç»“æ„åŒ–æç¤ºè¯
=======
#### ğŸ¯ **6ç§ç¼–è¾‘ç­–ç•¥è¯¦è§£**
ğŸ”„ **è‡ªåŠ¨æ£€æµ‹**ï¼šAIåˆ†æä½ çš„éœ€æ±‚ï¼Œè‡ªåŠ¨é€‰æ‹©æœ€åˆé€‚çš„å¤„ç†æ–¹å¼ï¼ˆæ¨èæ–°æ‰‹ä½¿ç”¨ï¼‰  
ğŸ“ **ç©ºé—´ç²¾å‡†**ï¼šä¸“æ³¨ä½ç½®å‡†ç¡®æ€§ï¼Œé€‚åˆ"æŠŠè¿™é‡Œçš„XXæ”¹æˆYY"ç±»å‹çš„ç²¾ç¡®ç¼–è¾‘  
ğŸ§  **è¯­ä¹‰å¢å¼º**ï¼šç†è§£å†…å®¹å«ä¹‰ï¼Œé€‚åˆ"è®©äººç‰©è¡¨æƒ…æ›´å¼€å¿ƒ"ç­‰éœ€è¦ç†è§£çš„ç¼–è¾‘  
ğŸ¨ **é£æ ¼ä¸€è‡´**ï¼šä¿æŒæ•´ä½“é£æ ¼ç»Ÿä¸€ï¼Œé€‚åˆ"æ·»åŠ XXä½†è¦ç¬¦åˆæ•´å¼ å›¾çš„é£æ ¼"  
ğŸ‘ï¸ **å†…å®¹æ„ŸçŸ¥**ï¼šæ™ºèƒ½ç†è§£ä¸Šä¸‹æ–‡ï¼Œé€‚åˆ"è‡ªç„¶åœ°ç§»é™¤XX"ç­‰éœ€è¦è¡¥å…¨èƒŒæ™¯çš„æ“ä½œ  
ğŸ­ **å¤šåŒºåŸŸåè°ƒ**ï¼šåŒæ—¶å¤„ç†å¤šä¸ªåŒºåŸŸï¼Œç¡®ä¿å®ƒä»¬ç›¸äº’åè°ƒï¼Œé€‚åˆå¤æ‚çš„æ‰¹é‡ç¼–è¾‘
>>>>>>> Stashed changes


### ğŸ‰ **ä½ èƒ½ç”¨å®ƒåšä»€ä¹ˆï¼Ÿ**

#### ğŸ”¥ **ç»å…¸åœºæ™¯**
ğŸŒ„ **äººåƒä¿®å›¾**ï¼šâ€œæŠŠè¿™ä¸ªäººçš„è¡£æœæ”¹æˆç™½è‰²â€ - æ¡†ä¸€ä¸‹ï¼Œè¯´ä¸€å£°ï¼Œå°±å¥½äº†ï¼  
ğŸŒ… **é£æ™¯ç¾åŒ–**ï¼šâ€œè®©è¿™ç‰‡å¤©ç©ºå˜æˆæœˆå¤œâ€ - åœˆå‡ºå¤©ç©ºï¼Œè¾“å…¥æƒ³æ³•ï¼Œä¸€é”®å®Œæˆï¼  
ğŸ“ **æ–‡å­—ç¼–è¾‘**ï¼šâ€œåœ¨è¿™é‡ŒåŠ ä¸Šæ–°å¹´å¿«ä¹â€ - ç‚¹ä¸ªä½ç½®ï¼Œè¯´å‡ºå†…å®¹ï¼Œè‡ªåŠ¨ç”Ÿæˆï¼  
ğŸ¨ **é£æ ¼è½¬æ¢**ï¼šâ€œè®©æ•´å¼ ç…§ç‰‡å˜æˆåŠ¨æ¼«é£æ ¼â€ - é€‰æ‹©å…¨å›¾ï¼Œè¾“å…¥é£æ ¼ï¼Œç«‹åˆ»å˜èº«ï¼

#### ğŸ¤– **AIé»‘ç§‘æŠ€**
âœ¨ **æœ¬åœ°AI**ï¼šæ”¯æŒOllamaï¼Œæ•°æ®ä¸å‡ºé—¨ï¼Œéšç§å®‰å…¨  
â˜ï¸ **äº‘ç«¯AI**ï¼šæ”¯æŒGPTã€DeepSeekã€åƒé—®ï¼Œæ•ˆæœæ›´å¼º  
ğŸ¯ **æ™ºèƒ½ç†è§£**ï¼šè‡ªåŠ¨è¯†åˆ«ä½ çš„æ„å›¾ï¼Œé€‰æ‹©æœ€ä½³ç­–ç•¥  
ğŸ”„ **ç»“æœå¯æ§**ï¼šæ”¯æŒç§å­å‚æ•°ï¼ŒåŒæ ·è¾“å…¥è·å¾—åŒæ ·ç»“æœ

#### ğŸ“¦ **å®Œæ•´è§£å†³æ–¹æ¡ˆ**
â€¢ **4å¤§ç±»åˆ«** Ã— **49ä¸ªæ¨¡æ¿** = è¦†ç›–æ‰€æœ‰å¸¸è§éœ€æ±‚  
â€¢ **6ç§ç­–ç•¥** Ã— **AIåŠ æŒ** = æ— é™å¯èƒ½æ€§  
â€¢ **ä¸­è‹±åŒè¯­** Ã— **è‡ªå®šä¹‰æ¨¡æ¿** = é€‚åˆæ‰€æœ‰äºº

### ğŸ¤– **AIå¢å¼ºå™¨å±•ç¤º**

#### ğŸŒ **APIäº‘ç«¯AIå¢å¼ºå™¨**
![API Enhancer](images/api.png)
*æ”¯æŒGPTã€DeepSeekã€åƒé—®ç­‰äº‘ç«¯AIæ¨¡å‹ï¼Œæ•ˆæœå¼ºå¤§*

#### ğŸ¤– **Ollamaæœ¬åœ°AIå¢å¼ºå™¨**
![Ollama Enhancer](images/ollama.png)
*æœ¬åœ°éƒ¨ç½²AIæ¨¡å‹ï¼Œæ•°æ®ä¸å‡ºé—¨ï¼Œéšç§å®‰å…¨*

### ğŸŒ **åœ¨çº¿ä½“éªŒ**
ğŸ† **ä»™å®«äº‘åœ¨çº¿ä½“éªŒ**ï¼š[https://www.xiangongyun.com/register/FIP8MJ](https://www.xiangongyun.com/register/FIP8MJ)  
ğŸ” æœç´¢â€œå°çº¢çŒªâ€å³å¯æ‰¾åˆ°ï¼Œæ— éœ€æœ¬åœ°å®‰è£…ï¼Œä¸Šæ‰‹å³ç”¨ï¼


### ğŸ“‹ æ¨¡æ¿åˆ†ç±»

| åˆ†ç±» | æ¨¡æ¿æ•°é‡ | æè¿° |
|------|----------|------|
| ğŸ¯ **å±€éƒ¨ç¼–è¾‘** | 18ä¸ªæ¨¡æ¿ | ç‰¹å®šå¯¹è±¡ç¼–è¾‘ï¼ˆé¢œè‰²ã€æ ·å¼ã€çº¹ç†ã€å§¿åŠ¿ç­‰ï¼‰ |
| ğŸŒ **å…¨å±€è°ƒæ•´** | 12ä¸ªæ¨¡æ¿ | æ•´ä½“å›¾åƒå¤„ç†ï¼ˆè°ƒè‰²ã€å¢å¼ºã€æ»¤é•œï¼‰ |
| ğŸ“ **æ–‡å­—ç¼–è¾‘** | 5ä¸ªæ¨¡æ¿ | æ–‡å­—æ“ä½œï¼ˆæ·»åŠ ã€åˆ é™¤ã€ç¼–è¾‘ã€è°ƒæ•´å¤§å°ã€ç»„åˆï¼‰ |
| ğŸ”§ **ä¸“ä¸šæ“ä½œ** | 14ä¸ªæ¨¡æ¿ | é«˜çº§ç¼–è¾‘ï¼ˆå‡ ä½•å˜æ¢ã€åˆæˆç­‰ï¼‰ |
| âœï¸ **è‡ªå®šä¹‰æ¨¡æ¿** | æ— é™åˆ¶ | ç”¨æˆ·è‡ªå®šä¹‰AIå¼•å¯¼è¯æœ¯ï¼Œæ”¯æŒä¿å­˜/åŠ è½½/ç®¡ç† |

### ğŸ”® æœªæ¥è§„åˆ’

#### ğŸ“ˆ è®¡åˆ’å¢å¼º
- [ ] **AIé©±åŠ¨æ ‡æ³¨** - è‡ªåŠ¨å¯¹è±¡æ£€æµ‹å’Œé¢„æ ‡æ³¨
- [ ] **è‡ªå®šä¹‰æ¨¡æ¿åˆ›å»ºå™¨** - ç”¨æˆ·å®šä¹‰çš„æç¤ºè¯æ¨¡æ¿
- [ ] **æ‰¹å¤„ç†** - å¤šå›¾åƒæ ‡æ³¨å·¥ä½œæµ
- [ ] **æ¨¡æ¿å¸‚åœº** - ç¤¾åŒºå…±äº«çš„æç¤ºè¯æ¨¡æ¿
- [ ] **é«˜çº§å¯¼å‡ºæ ¼å¼** - æ”¯æŒæ›´å¤šè¾“å‡ºæ ¼å¼

#### ğŸ§ª å®éªŒæ€§åŠŸèƒ½
- [ ] **è¯­éŸ³æ ‡æ³¨** - éŸ³é¢‘æè¿°è½¬æç¤ºè¯è½¬æ¢
- [ ] **3Då¯¹è±¡æ”¯æŒ** - æ·±åº¦æ„ŸçŸ¥æ ‡æ³¨å·¥å…·
- [ ] **å®æ—¶åä½œ** - å¤šç”¨æˆ·ç¼–è¾‘ä¼šè¯
- [ ] **APIé›†æˆ** - å¤–éƒ¨å·¥å…·è¿æ¥

### ğŸ“¦ å®‰è£…æ–¹æ³•

#### æ–¹æ³•ä¸€ï¼šGitå…‹éš†ï¼ˆæ¨èï¼‰
```bash
cd ComfyUI/custom_nodes/
git clone https://github.com/aiaiaikkk/kontext-super-prompt.git
```

#### æ–¹æ³•äºŒï¼šæ‰‹åŠ¨å®‰è£…
1. å°†`KontextSuperPrompt`æ–‡ä»¶å¤¹å¤åˆ¶åˆ°ComfyUIçš„custom_nodesç›®å½•
2. é‡å¯ComfyUI
3. åœ¨`kontext_super_prompt/core`åˆ†ç±»ä¸­æ‰¾åˆ°`VisualPromptEditor`èŠ‚ç‚¹
4. åŒå‡»èŠ‚ç‚¹æ‰“å¼€å¯è§†åŒ–ç¼–è¾‘å™¨

### ğŸ“± **ä½¿ç”¨æ–¹æ³•ï¼ˆæ¯”ç”¨æ‰‹æœºè¿˜ç®€å•ï¼‰**

#### ğŸš€ **ç¬¬ä¸€æ­¥ï¼š3ç§’é’Ÿè®¾ç½®**
1. åœ¨ComfyUIä¸­æ‰¾åˆ° `kontext_super_prompt/core` åˆ†ç±»
2. æ‹–å…¥ `Kontext Super Prompt Visual Editor` èŠ‚ç‚¹  
3. è¿æ¥ä½ çš„å›¾åƒè¾“å…¥

#### ğŸ¯ **ç¬¬äºŒæ­¥ï¼šå¼€å§‹ç¼–è¾‘**
1. **åŒå‡»èŠ‚ç‚¹** â†’ æ‰“å¼€ç¼–è¾‘ç•Œé¢ï¼ˆå°±åƒæ‰“å¼€æ‰‹æœºAppä¸€æ ·ï¼‰
2. **é€‰æ‹©å·¥å…·** â†’ çŸ©å½¢/åœ†å½¢/ç®­å¤´/è‡ªç”±ç»˜åˆ¶ï¼Œé€‰ä½ é¡ºæ‰‹çš„
3. **æ¡†é€‰åŒºåŸŸ** â†’ åœ¨å›¾ä¸Šåœˆå‡ºä½ æƒ³æ”¹çš„åœ°æ–¹
4. **è¯´å‡ºæƒ³æ³•** â†’ ç”¨äººè¯æè¿°ä½ çš„éœ€æ±‚ï¼Œæ¯”å¦‚"æŠŠè¿™é‡Œæ”¹æˆçº¢è‰²"

#### âš¡ **ç¬¬ä¸‰æ­¥ï¼šAIå¤„ç†**
1. **é€‰æ‹©ç­–ç•¥** â†’ ä¸çŸ¥é“é€‰ä»€ä¹ˆï¼Ÿé€‰"è‡ªåŠ¨æ£€æµ‹"å°±å¯¹äº†
2. **ä¸€é”®ç”Ÿæˆ** â†’ ç‚¹å‡»ç”Ÿæˆï¼ŒAIè‡ªåŠ¨åˆ›å»ºä¸“ä¸šæŒ‡ä»¤
3. **ç›´æ¥ä½¿ç”¨** â†’ ç”Ÿæˆçš„æŒ‡ä»¤å¯ä»¥ç›´æ¥ç”¨äºFlux Kontextæ¨¡å‹

#### ğŸ’¡ **å°è´´å£«**
â€¢ ğŸ¨ **å¤šä¸ªåŒºåŸŸ**ï¼šç”¨ä¸åŒé¢œè‰²æ ‡è®°ä¸åŒåŒºåŸŸï¼Œä¸€æ¬¡å¤„ç†å¤šä¸ªç¼–è¾‘
â€¢ ğŸ—£ï¸ **è‡ªç„¶è¯­è¨€**ï¼šæƒ³æ€ä¹ˆè¯´å°±æ€ä¹ˆè¯´ï¼Œ"æŠŠäººå˜å¹´è½»"ã€"å¤©ç©ºæ”¹æˆå¤œæ™š"éƒ½è¡Œ
â€¢ ğŸ”„ **ç»“æœä¸æ»¡æ„**ï¼šæ¢ä¸ªç¼–è¾‘ç­–ç•¥æˆ–è€…é‡æ–°æè¿°ï¼Œæ€»æœ‰ä¸€ä¸ªé€‚åˆä½ 

### ğŸ’» **ç³»ç»Ÿè¦æ±‚**
- âœ… **ComfyUI** - ä»»ä½•ç‰ˆæœ¬éƒ½å¯ä»¥ï¼Œæ¨èæœ€æ–°ç‰ˆ
- âœ… **ç°ä»£æµè§ˆå™¨** - Chromeã€Firefoxã€Safariã€Edgeéƒ½æ”¯æŒ
- âœ… **4GBå†…å­˜** - ä¿è¯æµç•…è¿è¡Œï¼ˆå¤§éƒ¨åˆ†ç”µè„‘éƒ½æ»¡è¶³ï¼‰

### ğŸ“Š **æ ¸å¿ƒæ•°æ®**
ğŸ¯ **49ä¸ªç²¾å“æ¨¡æ¿** + ğŸ¤– **AIæ— é™æ‰©å±•** = ğŸ’¯ **è¦†ç›–æ‰€æœ‰éœ€æ±‚**  
ğŸ“¦ **ä»…3.2MB** - è½»é‡çº§å®‰è£…ï¼Œä¸å ç©ºé—´  
ğŸš€ **4ä¸ªæ ¸å¿ƒèŠ‚ç‚¹** - ç®€å•å¤Ÿç”¨ï¼Œä¸å¤æ‚  
ğŸŒ **ä¸­è‹±åŒè¯­** - å›½å†…å¤–ç”¨æˆ·éƒ½é€‚ç”¨

---

## <a id="english-docs"></a>ğŸ‡ºğŸ‡¸ English Documentation

ğŸ† **Make AI Image Editing as Simple as Drawing** ğŸ†

All you need: ğŸ“ **Select Area** + ğŸ—£ï¸ **Describe Intent** = âœ¨ **Perfect AI Editing Instructions**

No need to learn complex prompt techniques, no need to understand model parameters, no need to memorize command formats. As simple as using a paintbrush, yet achieving professional-grade AI editing results.

## ğŸ¯ Visual Demonstration

### ğŸ¨ **Visual Editor Interface**
![Visual Editor Interface](images/visual_editor1.png)
*Intuitive visual editing interface - Image annotation on the left, AI prompt generation on the right*

### ğŸ–„ **Base Template System**
![Basic Templates](images/basic.png)
*49 premium templates covering all editing scenarios - Local, Global, Text, Professional operations*

### ğŸ’« Quick Start

1. **Double-click node** â†’ Open visual editor
2. **Draw annotations** â†’ Select tools to mark target areas
3. **Choose templates** â†’ Select operation type and enhancement prompts  
4. **Generate instantly** â†’ Auto-generate structured prompts

## ğŸ¯ Project Purpose

This project aims to build a super prompt generation system based on the **Flux Kontext large model**, achieving fine-grained, multimodal image editing through the collaborative control of intuitive graphic annotation and AI-enhanced intelligent prompts.

Users don't need to master complex prompt writing - they simply need to **select image regions + describe intentions**, and the super prompt system will automatically generate AI-enhanced structured editing instructions to drive the Kontext model to complete intelligent local/global image modifications.

This project strives to achieve:

ğŸ–¼ï¸ **WYSIWYG Visual Interaction**: Support for multiple annotation methods including rectangles, circles, arrows, and freehand drawing;

âœï¸ **Automated Structured Prompt Assembly and Completion**: Help novice users efficiently express editing requirements;

ğŸ§  **Integration with Large Model Semantic Understanding**: Precise control over image transformation, replacement, repair, and enhancement;

ğŸ”„ **Complete Editing Loop Integration**: From annotation â†’ mask generation â†’ prompt generation â†’ editing execution â†’ feedback display, full-process automatic coordination.

The goal is to create a super prompt generation platform suitable for the **ComfyUI image creation ecosystem**, providing a more intelligent, natural, and efficient interaction method for AI image editing.

## âœ¨ Key Features

### ğŸ¨ Visual Annotation System
- **4 Drawing Tools**: Rectangle, Circle, Arrow, Freehand Polygon
- **Multi-color Support**: Red, Green, Yellow, Blue annotations
- **Interactive Editing**: Click, drag, select, delete annotations
- **Real-time Preview**: Live annotation rendering on images

### ğŸ“ Multimodal Structured Prompt Generation
- **4 Template Categories**: Local Edits, Global Adjustments, Text Editing, Professional Operations
- **49 Base Templates**: Carefully optimized based on 1025 official Flux Kontext instructions
- **AI Smart Extension**: Generate unlimited variants through Ollama/API enhancers
- **Multi-select Prompts**: Checkbox interface for constraint and decorative prompts
- **Smart Combination**: Automatically convert visual annotations into multimodal AI-comprehensible structured prompts


## ğŸš€ Implemented Features

### âœ… Core Functionality
- [x] **Visual Prompt Editor Node** - Double-click to open unified interface
- [x] **Multi-tool Annotation** - Rectangle, Circle, Arrow, Freehand drawing
- [x] **4-category Template System** - Local/Global/Text/Professional operations
- [x] **Multi-select Prompt Enhancement** - Checkbox interface for constraint/decorative prompts
- [x] **Real-time Template Switching** - Operation type changes instantly update prompt options
- [x] **Structured Output Generation** - Automatic prompt construction with selected enhancements
- [x] **Image Rendering** - Annotations directly rendered to output images

### âœ… AI Enhancement Features (NEW!)
- [x] **ğŸ¤– Local Ollama Service Integration** - Support calling local ollama service to generate structured prompts
- [x] **ğŸŒ API Remote Calling** - Support API remote calling of large language models to generate structured prompts
- [x] **ğŸ¯ Multi-layer Instruction Support** - Support different instructions for multiple layers, e.g.: add a puppy at red marker, remove chair at blue marker, etc.
- [x] **ğŸ“‹ Smart Template Library** - 70+ preset templates optimized based on FLUX official training dataset covering local editing, global editing, text editing, professional operations
- [x] **ğŸ² Seed Parameter Control** - Support seed parameter to control generation randomness and ensure reproducible results
- [x] **âœï¸ Custom User Templates** - Complete custom guidance prompt save/load/management system
- [x] **ğŸ§¹ Output Cleaning** - Intelligent cleaning of technical analysis content, outputting concise natural language instructions
- [x] **ğŸ”„ Manual Model Refresh** - One-click refresh Ollama model list without restarting ComfyUI
- [x] **DeepSeek R1/V3 Support** - Latest inference optimization model integration
- [x] **Multi-provider Support** - SiliconFlow, DeepSeek, Qianwen, OpenAI
- [x] **Cost Control** - Smart caching and real-time cost monitoring

### ğŸš€ Model Training Progress
- [x] **Models based on deepseek-r1 and qwen3 for generating kontext prompts are in training**...

### ğŸ¤– **AI Enhancer Showcase**

#### ğŸŒ **API Cloud AI Enhancer**
![API Enhancer](images/api.png)
*Support for GPT, DeepSeek, Qianwen and other cloud AI models with powerful effects*

#### ğŸ¤– **Ollama Local AI Enhancer**
![Ollama Enhancer](images/ollama.png)
*Local AI model deployment, data never leaves your device, privacy secure*

### ğŸŒŸ Xiangong Cloud Mirror Experience
**Xiangong Cloud Mirror has deployed all the above features**: [https://www.xiangongyun.com/register/FIP8MJ](https://www.xiangongyun.com/register/FIP8MJ) (Search: å°çº¢çŒª)

### ğŸ“ˆ Planned Advanced Features
- [ ] **Annotation Data Export** - JSON format with coordinates and metadata
- [ ] **Multi-language Support** - Chinese/English interface elements
- [ ] **Session Persistence** - Save & restore annotation states

### âœ… User Experience
- [x] **Intuitive Interface** - Left canvas, right prompt panel layout
- [x] **Responsive Design** - Auto-scaling and zoom controls

## ğŸ“‹ Template Categories

| Category | Templates | Description |
|----------|-----------|-------------|
| ğŸ¯ **Local Edits** | 18 templates | Object-specific editing (color, style, texture, pose, etc.) |
| ğŸŒ **Global Adjustments** | 12 templates | Whole image processing (color grading, enhancement, filters) |
| ğŸ“ **Text Editing** | 5 templates | Text manipulation (add, remove, edit, resize, combine) |
| ğŸ”§ **Professional Operations** | 14 templates | Advanced editing (geometric transforms, compositing, etc.) |
| âœï¸ **Custom Templates** | Unlimited | User-defined AI guidance prompts with save/load/management |

## ğŸ”® Future Roadmap

### ğŸ“ˆ Planned Enhancements
- [ ] **AI-powered Annotation** - Automatic object detection and pre-annotation
- [ ] **Custom Template Creator** - User-defined prompt templates
- [ ] **Batch Processing** - Multiple image annotation workflow
- [ ] **Template Marketplace** - Community-shared prompt templates
- [ ] **Advanced Export Formats** - Support for more output formats

### ğŸ§ª Experimental Features
- [ ] **Voice Annotation** - Audio description to prompt conversion
- [ ] **3D Object Support** - Depth-aware annotation tools
- [ ] **Real-time Collaboration** - Multi-user editing sessions
- [ ] **API Integration** - External tool connectivity

## ğŸ“¦ Installation

### Method 1: Git Clone (Recommended)
```bash
cd ComfyUI/custom_nodes/
git clone https://github.com/aiaiaikkk/kontext-super-prompt.git
```

### Method 2: Manual Installation
1. Copy the `KontextSuperPrompt` folder to your ComfyUI custom_nodes directory
2. Restart ComfyUI
3. Find the `VisualPromptEditor` node in the `kontext_super_prompt/core` category
4. Double-click the node to open the visual editor

## ğŸ® Usage

1. **Add Node**: Place `VisualPromptEditor` in your workflow
2. **Connect Image**: Link your image input to the node
3. **Open Editor**: Double-click the node to launch the interface
4. **Annotate**: Use drawing tools to mark areas of interest
5. **Configure**: Select template category and operation type
6. **Enhance**: Choose constraint and decorative prompts via checkboxes
7. **Generate**: Click "Generate Description" for structured prompts
8. **Export**: Save annotations and use generated prompts in your workflow

## ğŸ”§ Requirements

- ComfyUI (latest version recommended)
- Python 3.7+
- Modern web browser with JavaScript enabled
- 4GB+ RAM for optimal performance

## ğŸ“Š Project Stats

- **Preset Templates**: 70+ FLUX optimized templates (based on official training dataset)
- **Custom Templates**: Unlimited user-defined guidance prompts
- **AI Enhancement Nodes**: 2 intelligent enhancers (Ollama local + API remote)
- **Prompt Database**: 343 constraint and decorative prompts
- **Multi-layer Support**: Unlimited annotation layers and instruction combinations
- **Language Support**: English/Chinese bilingual interface
- **File Size**: ~3.2MB total package
- **Node Count**: 4 core nodes (editor + 2 AI enhancers + seed control)

---

**Version**: v3.0.0 - Kontextè¶…çº§æç¤ºè¯ç‰ˆ  
**Status**: âœ… Production Ready  
**License**: MIT  
**Compatibility**: ComfyUI 0.4.0+